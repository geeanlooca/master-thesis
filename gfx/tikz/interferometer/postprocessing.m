clear all;close all;L = 1.2e-3;AscanLength = 1024;BscanWidth = 1000;imgSize = [AscanLength  BscanWidth];pixNum = 1:BscanWidth;FsInternal = 500;FsExternal = 306;fInternal = linspace(0, FsInternal/2, AscanLength);fExternal = linspace(0, FsExternal/2, AscanLength);IDinternal = fopen('bscan-internal.bin', 'r', 'l');BscanInternal = fread(IDinternal, imgSize, '*float32');IDexternal = fopen('bscan.bin', 'r', 'l');BscanExternal = fread(IDexternal, imgSize, '*float32');IDdistanced = fopen('bscan-distanced.bin', 'r', 'l');BscanDistanced = fread(IDdistanced, imgSize, '*float32');figure(1);imagesc(pixNum, fInternal, BscanInternal);xlabel('Pixel number');ylabel('Frequency [MHz]');colormap grayfigure(2);imagesc(pixNum, fExternal, BscanExternal);xlabel('Pixel number');ylabel('Frequency [MHz]');colormap grayfigure(3);imagesc(pixNum, fExternal, BscanDistanced);xlabel('Pixel number');ylabel('Frequency [MHz]');colormap grayIDtimeExt = fopen('time-external-clock.bin', 'r', 'l');timeImageExt = fread(IDtimeExt, [1504 1000], '*float32');figure;imagesc(timeImageExt);colormap grayIDtimeInt = fopen('time-internal-clock.bin', 'r', 'l');timeImageInt = fread(IDtimeInt, [2528 1000], '*float32');figure;imagesc(timeImageInt);colormap gray% a-scansascan_internal = timeImageInt(:, 1);ascan_external = timeImageExt(:, 1);figure;subplot(2, 1, 1);plot(ascan_external);xlabel('Pixel number');ylabel('Voltage');axis tightsubplot(2, 1, 2);plot(ascan_internal);xlabel('Pixel number');ylabel('Voltage');axis tightinterferometro = struct();interferometro.internalclock = ascan_internal;interferometro.externalclock = ascan_external;save('interferometro.mat', 'interferometro');